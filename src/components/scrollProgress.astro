<!-- Scroll progress -->

<!-- Left scroll -->
<div id="progressBarLeft" class="progressBarLeft fixed left-20 h-[49rem] w-[1px] invisible xl:visible"></div>
<div id="progressLeft" class="progressLeft fixed left-20 h-[49rem] max-h-[49rem] w-[1px] invisible xl:visible"></div>

<!-- Right scroll -->
<div id="progressBarRight" class="progressBarRight fixed right-20 h-[49rem] w-[1px] invisible xl:visible"></div>
<div id="progressRight" class="progressRight fixed right-20 h-[49rem] w-[1px] bottom-20 invisible xl:visible"></div>

<!-- JS -->
<script>
// Handles scrollbar effect //
window.addEventListener('scroll', handleScrollLeft);

function handleScrollLeft() {
        var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        var scrolled = (winScroll / height) * 100;

        const progressLeftElement = document.getElementById("progressLeft");
        if (progressLeftElement) {
        progressLeftElement.style.height = scrolled + "%";
        }
}

window.addEventListener('scroll', handleScrollRight);

function handleScrollRight() {
        var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        var scrolled = (winScroll / height) * 100;

        const progressRightElement = document.getElementById("progressRight");
        if (progressRightElement) {
        progressRightElement.style.height = scrolled + "%";
        }
}

// Toggles between light and dark mode on scroll //
// Function to handle scroll and toggle light mode for specific elements
function handleScrollToggle() {
        const sections = document.querySelectorAll('section');
        let currentSectionId = '';

        sections.forEach((section) => {
        const rect = section.getBoundingClientRect();

        if (rect.top >= 0 && rect.bottom <= window.innerHeight) {
                currentSectionId = section.id;
}
});

// Toggle dark mode class based on the active section for specific elements
toggleDarkModeClass('progressBarLeft', currentSectionId);
toggleDarkModeClass('progressLeft', currentSectionId);
toggleDarkModeClass('progressBarRight', currentSectionId);
toggleDarkModeClass('progressRight', currentSectionId);
}

// Function to toggle dark mode class for a specific element
function toggleDarkModeClass(elementId: string, currentSectionId: string) {
        const element: HTMLElement | null = document.getElementById(elementId);

        if (element) {
                // Toggle dark mode class based on the active section
                element.classList.toggle('dark-mode', currentSectionId === 'home' || currentSectionId === 'solutions');
                }
}

// Scroll event listener
document.addEventListener('scroll', handleScrollToggle);
</script>
      