<!-- Scroll progress -->

<!-- Left scroll -->
<div id="progressBarLeft" class="progressBarLeft fixed h-[49rem] left-20 w-[1px] invisible xl:visible"></div>
<div id="progressLeft" class="progressLeft fixed h-[49rem] max-h-[49rem] left-20 w-[1px] invisible xl:visible"></div>

<!-- Right scroll -->
<div id="progressBarRight" class="progressBarRight fixed h-[49rem] right-20 w-[1px] invisible xl:visible"></div>
<div id="progressRight" class="progressRight fixed h-[49rem] right-20 w-[1px] bottom-20 invisible xl:visible"></div>

<!-- JS -->
<script>
        // Handles scrollbar effect //
        window.addEventListener('scroll', handleScrollLeft);
      
        function handleScrollLeft() {
          var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
          var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
          var scrolled = (winScroll / height) * 100;
      
          document.getElementById("progressLeft").style.height = scrolled + "%";
        }
      
        window.addEventListener('scroll', handleScrollRight);
      
        function handleScrollRight() {
          var winScroll = document.body.scrollTop || document.documentElement.scrollTop;
          var height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
          var scrolled = (winScroll / height) * 100;
      
          document.getElementById("progressRight").style.height = scrolled + "%";
        }

        // Toggles between light and dark mode on scroll //
        // Function to handle scroll and toggle light mode for specific elements
        function handleScrollToggle() {
        const sections = document.querySelectorAll('section');
        let currentSectionId = '';

        sections.forEach((section) => {
        const rect = section.getBoundingClientRect();

        if (rect.top >= 0 && rect.bottom <= window.innerHeight) {
        currentSectionId = section.id;
        }
        });

        // Toggle light mode class based on the active section for specific elements
        toggleLightModeClass('progressBarLeft', currentSectionId);
        toggleLightModeClass('progressLeft', currentSectionId);
        toggleLightModeClass('progressBarRight', currentSectionId);
        toggleLightModeClass('progressRight', currentSectionId);
        }

        // Function to toggle light mode class for a specific element
        function toggleLightModeClass(elementId: string, currentSectionId: string) {
        const element: HTMLElement | null = document.getElementById(elementId);

        if (element) {
        // Toggle light mode class based on the active section
        element.classList.toggle('light-mode', currentSectionId === 'mission' || currentSectionId === 'services' || currentSectionId === 'work' || currentSectionId === 'contact');
        }
        }

        // Scroll event listener
        document.addEventListener('scroll', handleScrollToggle);
</script>
      